(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{97:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return r(5422)}])},9632:function(e,t,r){"use strict";r.d(t,{HG:function(){return o.HG},N7:function(){return o.N7},ez:function(){return o.ez},jR:function(){return o.jR},nu:function(){return o.nu},p2:function(){return o.p2},zM:function(){return o.zM}});var o=r(1263)},5422:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var o=r(2322),s=r(2784),a=r(3053),n=r(9632),i=r(2578);r(2911);var l=r(9557),c=r(9465),d=r(5529),m=r(572),u=r(8834).lW;let h=e=>{if(!e||""===e.trim())return!1;let t=Number(e);return!isNaN(t)&&!(t<0)};function g(){let[e,t]=(0,s.useState)("standard"),[g,f]=(0,s.useState)("standard"),[x,p]=(0,s.useState)("standard"),[y,b]=(0,s.useState)(""),[w,v]=(0,s.useState)("seven_days"),[j,N]=(0,s.useState)(""),[k,S]=(0,s.useState)(n.N7[0].id),[P,C]=(0,s.useState)({}),[E,T]=(0,s.useState)(!1),[M,A]=(0,s.useState)(!1),[D,L]=(0,s.useState)(""),[z,U]=(0,s.useState)([]),[I,Z]=(0,s.useState)([]),[W,K]=(0,s.useState)(!1),[_,B]=(0,s.useState)(null),[H,R]=(0,s.useState)(!1),[F,O]=(0,s.useState)(""),[V,G]=(0,s.useState)(!0),[q,Y]=(0,s.useState)(!1),[$,X]=(0,s.useState)(!0),[J,Q]=(0,s.useState)("usd"),[ee,et]=(0,s.useState)([]),[er,eo]=(0,s.useState)({}),[es,ea]=(0,s.useState)(!1),[en,ei]=(0,s.useState)(null),[el,ec]=(0,s.useState)(!1),[ed,em]=(0,s.useState)(null),[eu,eh]=(0,s.useState)("input"),{address:eg,isConnected:ef}=(0,a.mA)();(0,s.useEffect)(()=>{if(console.log("Wallet connection status:",ef),console.log("Connected wallet address:",eg),ef&&eg){var e;let t=JSON.parse(localStorage.getItem("walletData")||'{"wallets":{},"timestamp":0}');if(!((null==t?void 0:null===(e=t.wallets)||void 0===e?void 0:e.metamask)||[]).some(e=>e.toLowerCase()===eg.toLowerCase())){console.log("Synchronizing wagmi connected address with localStorage:",eg),t.wallets.metamask||(t.wallets.metamask=[]),t.wallets.metamask.push(eg),t.timestamp=Date.now(),localStorage.setItem("walletData",JSON.stringify(t)),localStorage.setItem("userInitiatedConnection","true");let e=new CustomEvent("wallet-connection-changed",{detail:{timestamp:Date.now()}});window.dispatchEvent(e)}}},[ef,eg]),(0,s.useRef)([]),(0,s.useRef)([]),(0,s.useRef)(!1),(0,s.useRef)(!1);let ex=(0,s.useRef)([]),ep=(0,s.useRef)([]),ey=(0,s.useRef)(!1);(0,s.useEffect)(()=>{let e=()=>{let e=(0,i.dg)();if(console.log("Updated wallet list in create.js:",e),U(e),K("true"===localStorage.getItem("userInitiatedConnection")),0===I.length&&e.length>0)Z([e[0].id]);else if(I.length>0){let t=e.map(e=>e.id),r=I.filter(e=>t.includes(e));r.length!==I.length&&Z(r)}};e();let t=t=>{("walletData"===t.key||"userInitiatedConnection"===t.key)&&(console.log("Storage change detected in create.js: ".concat(t.key)),e())};window.addEventListener("storage",t);let r=()=>{console.log("Wallet connection changed event received in create.js"),e()};return window.addEventListener("wallet-connection-changed",r),window._createPageStorageSetup||(window.addEventListener("localStorage-changed",t=>{t.detail&&("walletData"===t.detail.key||"userInitiatedConnection"===t.detail.key)&&(console.log("localStorage-changed event in create.js: ".concat(t.detail.key)),e())}),window._createPageStorageSetup=!0),()=>{window.removeEventListener("storage",t),window.removeEventListener("wallet-connection-changed",r)}},[]),(0,s.useEffect)(()=>{ex.current=I},[I]),(0,s.useEffect)(()=>{ep.current=z},[z]),(0,s.useEffect)(()=>{ey.current=V,V&&_&&!_.convertedAssets&&(async()=>{try{Y(!0);let e=await (0,i.ei)(_);B(e)}catch(e){console.error("Error converting to USD:",e),O("Failed to convert to USD: ".concat(e.message||"Unknown error"))}finally{Y(!1)}})()},[V,_]),(0,s.useEffect)(()=>{let e=!0;if(ex.current=I,ep.current=z,ey.current=V,0===I.length){e&&B(null);return}return(async()=>{if(0===ex.current.length){e&&B(null);return}try{e&&(R(!0),O(""));let t=ep.current.filter(e=>ex.current.includes(e.id));if(0===t.length)throw Error("No valid wallets selected");let r=await (0,i.i6)(t);console.log("Asset summary:",r),e&&Y(!0);let o=await (0,i.ei)(r);e&&(G(!0),B(o),Y(!1))}catch(t){console.error("Error loading wallet assets:",t),e&&(O("Failed to load assets: ".concat(t.message||"Unknown error")),B(null))}finally{e&&R(!1)}})(),()=>{e=!1}},[I]);let eb=e=>{Z(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};(0,s.useEffect)(()=>{let e=async e=>{0===e.length&&Z([])};if(window.ethereum)return window.ethereum.on("accountsChanged",e),()=>{window.ethereum&&window.ethereum.removeListener("accountsChanged",e)}},[]);let{config:ew,error:ev,write:ej,data:eN,isLoading:ek}=(0,a.GG)({address:n.ez,abi:n.p2,functionName:"submitProof",onError:e=>{console.error("Contract write error:",e)}}),{config:eS,error:eP,write:eC,data:eE,isLoading:eT}=(0,a.GG)({address:n.ez,abi:n.p2,functionName:"submitProof",onError:e=>{console.error("Contract write error:",e)}}),{config:eM,error:eA,write:eD,data:eL,isLoading:ez}=(0,a.GG)({address:n.ez,abi:n.p2,functionName:"submitProof",onError:e=>{console.error("Contract write error:",e)}}),{write:eU,isLoading:eI,isError:eZ,error:eW,data:eK}=(0,a.GG)({address:n.zM,abi:[{inputs:[{internalType:"bytes",name:"_proof",type:"bytes"},{internalType:"bytes",name:"_publicSignals",type:"bytes"},{internalType:"uint256",name:"_expiryTime",type:"uint256"},{internalType:"uint8",name:"_proofType",type:"uint8"},{internalType:"string",name:"_signatureMessage",type:"string"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verifyAndStoreProof",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"verifyAndStoreProof"}),e_=e=>{et(t=>t.find(t=>t.symbol===e.symbol&&t.chain===e.chain)?t.filter(t=>t.symbol!==e.symbol||t.chain!==e.chain):[...t,{...e,amount:""}])},eB=(e,t,r)=>{(""===r||/^[0-9]*\.?[0-9]*$/.test(r))&&et(o=>o.map(o=>o.symbol===e&&o.chain===t?{...o,amount:r}:o))},eH=()=>_&&_.convertedAssets?ee.reduce((e,t)=>{let r=_.convertedAssets.find(e=>e.symbol===t.symbol&&e.chain===t.chain);if(!r||!t.amount)return e;let o=r.price||0;return console.log("Token: ".concat(t.symbol,", Amount: ").concat(t.amount,", Price: $").concat(o,", Total: $").concat(parseFloat(t.amount)*o)),e+parseFloat(t.amount)*o},0):0,eR=async e=>{try{var t,o;ea(!0),ei(e);let s=z.find(t=>t.id===e);if(!s)throw Error("Wallet with ID ".concat(e," not found"));let a="";"tokens"===J?ee&&ee.length>0?(a=ee.map(e=>"".concat(e.amount," ").concat(e.symbol)).join(", "),console.log("Using user-entered token amounts for signature:",a)):a="".concat(y," USD worth of tokens"):a="$".concat(y," USD");let n="I confirm ownership of wallet ".concat(s.fullAddress," with ").concat(a," for proof of funds."),i=null;if("evm"===s.type)try{let{getEthers:e}=await r.e(96).then(r.bind(r,5096)),{ethers:o}=await e(),a=window.ethereum;if(null===(t=window.ethereum)||void 0===t?void 0:t.providers){let e=window.ethereum.providers.find(e=>e.isMetaMask);e&&(a=e)}if(!a)throw Error("MetaMask extension not detected. Please install MetaMask to continue.");console.log("Opening MetaMask account selection popup..."),await a.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let l=await a.request({method:"eth_accounts"}),c=s.fullAddress.toLowerCase(),d=l.length>0?l[0].toLowerCase():null;if(!d)throw Error("No account was selected in MetaMask. Please try again and select an account.");if(d!==c)throw Error("You selected a different account than required. Please select account ".concat(s.fullAddress," in MetaMask."));let m=new o.providers.Web3Provider(a).getSigner();if((await m.getAddress()).toLowerCase()!==c)throw Error("The connected account doesn't match the wallet you're trying to sign with. Please select account ".concat(s.fullAddress," in MetaMask."));i=await m.signMessage(n)}catch(e){if(4001===e.code)throw Error("You declined the signature request. Please approve the request to continue.");throw Error("".concat(e.message))}else if("solana"===s.type)try{if(!window.phantom||!window.phantom.solana)throw Error("Phantom wallet extension not detected. Please install Phantom wallet to continue.");let e=null===(o=window.phantom)||void 0===o?void 0:o.solana;if(!e||!e.isPhantom)throw Error("Phantom wallet not available. Please install Phantom wallet to continue.");console.log("Opening Phantom popup without any pre-validation");try{e.isConnected&&(console.log("Disconnecting from Phantom to ensure UI shows up"),await e.disconnect(),await new Promise(e=>setTimeout(e,300)))}catch(e){console.log("Error disconnecting, but continuing anyway:",e)}console.log("Requesting Phantom wallet connection with popup...");let t=(await e.connect({onlyIfTrusted:!1})).publicKey.toString();console.log("Connected to Phantom wallet:",t),console.log("Requesting signature from Phantom...");let r=new TextEncoder().encode(n),a=await e.signMessage(r,"utf8");if(i=u.from(a.signature).toString("hex"),console.log("Message signed successfully"),t!==s.fullAddress)throw console.error("Signed with wrong account. Expected: ".concat(s.fullAddress,", Got: ").concat(t)),Error("You signed with a different account than required. Please select account ".concat(s.fullAddress," in Phantom."))}catch(e){if(console.error("Phantom error:",e),4001===e.code)throw Error("You declined the signature request. Please approve the request to continue.");throw Error(e.message||"Error with Phantom wallet")}i&&eo(t=>({...t,[e]:{signature:i,message:n,timestamp:Date.now()}}))}catch(e){console.error("Error signing with wallet:",e),alert("Unable to sign: ".concat(e.message))}finally{ea(!1),ei(null)}},eF=async()=>(console.log("Starting prepareProofSubmission"),new Promise(async(t,o)=>{try{let o=y,s=[];"tokens"===J&&(o=eH().toString(),s=ee.map(e=>{var t,r;return{symbol:e.symbol,chain:e.chain,amount:e.amount,usdValue:e.amount*((null==_?void 0:null===(r=_.convertedAssets)||void 0===r?void 0:null===(t=r.find(t=>t.symbol===e.symbol&&t.chain===e.chain))||void 0===t?void 0:t.usdRate)||0)}}));let a=e$(w),l=null,c=null;if("zk"===e)try{let{getEthers:e,parseAmount:t}=await r.e(96).then(r.bind(r,5096)),{ethers:s}=await e(),a=await t(o),d=z.find(e=>e.id===I[0]);if(!d)throw Error("No wallet selected");l=await (0,m.hQ)({walletAddress:d.fullAddress,amount:a.toString(),proofType:n.nu[x.toUpperCase()]||n.nu.STANDARD}),c=await (0,i.Gx)({chain:d.chain.toLowerCase()}),console.log("ZK proof generated:",l),console.log("Temporary wallet generated:",c.address)}catch(e){console.error("Error generating ZK proof:",e),alert("Error generating ZK proof: ".concat(e.message));return}let d={timestamp:Date.now(),expiryTime:1e3*a,proofType:"standard"===e?g:x,proofCategory:e,wallets:I.map(e=>{let t=z.find(t=>t.id===e);return{id:t.id,address:t.fullAddress,chain:t.chain,type:t.type}}),assets:_?_.totalAssets:[],totalValue:V&&_?_.totalUSDValue:_&&_.totalAssets.length>0?_.totalAssets.reduce((e,t)=>e+t.balance,0):0,currency:"usd"===J?"USD":"tokens",tokenDetails:s,signatures:er,thresholdAmount:"threshold"===g?parseFloat(o):null,maximumAmount:"maximum"===g?parseFloat(o):null,isThresholdProof:"threshold"===g,isMaximumProof:"maximum"===g,zkProof:l?l.proof:null,zkPublicSignals:l?l.publicSignals:null,tempWallet:c?{address:c.address,path:c.path}:null};em(d),ec(!0),eh("ready"),console.log("Proof data prepared and ready for submission:",d),console.log("Current proofStage after preparation:",eu),setTimeout(()=>{console.log("Delayed check - proofStage:",eu),console.log("Delayed check - proofData exists:",!!ed),t(ed)},500)}catch(e){console.error("Error in prepareProofSubmission:",e),o(e)}})),eO=async()=>{try{var e;let t;if(console.log("Executing ZK proof submission flow"),!ed||!ed.zkProof||!ed.zkPublicSignals)throw Error("ZK proof data is missing or incomplete");let{getEthers:o}=await r.e(96).then(r.bind(r,5096)),{ethers:s}=await o(),a=z.find(e=>e.id===I[0]);if(!a)throw Error("Primary wallet not found");let i=e$(w),l=null===(e=er[a.id])||void 0===e?void 0:e.signature;if(!l)throw Error("Wallet signature not found. Please sign with your wallet.");"standard"===x?t=n.nu.STANDARD:"threshold"===x?t=n.nu.THRESHOLD:"maximum"===x&&(t=n.nu.MAXIMUM),console.log("ZK proof type:",x,"enum value:",t);let c=s.utils.defaultAbiCoder.encode(["uint256[]"],[[1,2,3,4,5,6,7,8]]),d=s.utils.defaultAbiCoder.encode(["uint256[]"],[[s.utils.parseEther(y).toString()]]);if(console.log("ZK contract call preparation:",{proofType:t,expiryTime:i,signatureMessage:j,hasSignature:!!l}),"function"==typeof eU)try{eU({args:[c,d,BigInt(i),t,j,l]}),console.log("writeZKProof called successfully")}catch(e){console.error("Contract write error:",e),eV()}else console.log("writeZKProof function not available, using simulation"),eV()}catch(e){console.error("Error in ZK proof submission:",e),alert("ZK proof submission error: ".concat(e.message)),setIsSubmitting(!1)}},eV=()=>{console.log("Simulating successful ZK proof transaction");let e="0x"+Array(64).fill("0").map(()=>Math.floor(16*Math.random()).toString(16)).join("");L(e),A(!0),setIsSubmitting(!1),alert("For testing: ZK Proof simulated with transaction hash: ".concat(e.substring(0,10),"..."))},eG=async()=>{if("ready"===eu&&ed)try{var t;if(setIsSubmitting(!0),"zk"===ed.proofCategory)return await eO();if(!ef||!eg){console.log("Need to connect wallet first");let e=e1.find(e=>"metaMask"===e.id);if(e)await e0({connector:e});else throw Error("MetaMask connector not found")}if(console.log("Connected wallet:",eg),"function"!=typeof ej&&(console.error("Write function not available yet. Attempting to prepare..."),await new Promise(e=>setTimeout(e,1e3)),"function"!=typeof ej))throw Error("Contract write function could not be initialized. Please refresh and try again.");let r=z.find(e=>e.id===I[0]);if(!r)throw Error("Primary wallet not found");let{ethers:o}=await getEthers();console.log("Ethers imported successfully");let s=o.utils.parseEther("usd"===J?y:eH().toString());console.log("Amount converted to wei:",s.toString());let a=e$(w);console.log("Expiry time set to:",a);let l=null===(t=er[r.id])||void 0===t?void 0:t.signature;if(!l)throw Error("Wallet signature not found. Please sign with your wallet.");if(console.log("Wallet signature found"),console.log("Submitting proof to blockchain with signature:",l.substring(0,10)+"..."),"standard"===e){let e;console.log("Preparing standard proof submission"),"standard"===g?e=n.HG.STANDARD:"threshold"===g?e=n.HG.THRESHOLD:"maximum"===g&&(e=n.HG.MAXIMUM),console.log("Proof type value:",e);let t=await (0,i.SE)(r.fullAddress,s.toString(),e);console.log("Generated proof hash:",t);let c="threshold"===g||"maximum"===g?s:o.utils.parseEther("0");console.log("Threshold amount:",c.toString()),console.log("Calling writeStandardProof with args:",{proofType:e,proofHash:t,expiryTime:a,thresholdAmount:c.toString(),signatureMessage:j,walletSignature:l.substring(0,10)+"..."}),console.log("writeStandardProof function check:",typeof ej);try{let r=e1.find(e=>"metaMask"===e.id);if(r){let i;if(window.wagmiMetaMaskConnector=r,ef||(console.log("Connecting to MetaMask before contract call"),await e0({connector:r})),console.log("Preparing contract call with arguments"),!await e4(n.ez,"submitProof")){alert("Contract method 'submitProof' is not available at the specified address. Check your contract deployment.");return}new o.providers.Web3Provider(window.ethereum);let c=Number(e),d=BigInt(a);c===n.HG.THRESHOLD||c===n.HG.MAXIMUM?(i=s,console.log("Using amount as threshold:",i.toString())):i=o.utils.parseEther("0"),console.log("Formatted arguments:",{proofType:c,proofHash:t,expiryTime:d.toString(),thresholdAmount:i.toString(),signatureMessageLength:j.length,signatureLength:l.length});try{ej({recklesslySetUnpreparedArgs:[c,t,d,i,j,l],gasLimit:BigInt(5e5)}),console.log("writeStandardProof called successfully")}catch(e){console.error("Inner error calling writeStandardProof:",e),e.message.includes("function selector was not recognized")?alert("Error: Contract interface mismatch. The method signature doesn't match what's deployed at the contract address. Check your contract deployment and ABI."):alert("Error calling contract: ".concat(e.message))}}else throw Error("MetaMask connector not found")}catch(e){console.error("Error calling contract write function:",e),alert("Error calling contract: ".concat(e.message))}console.log("Contract interaction completed")}}catch(e){console.error("Error submitting proof:",e),alert("Error: ".concat(e.message))}finally{setIsSubmitting(!1)}else console.log("Not in ready stage or proofData missing:",{proofStage:eu,hasProofData:!!ed})},eq=()=>{if(0===I.length)return!1;let e=I.every(e=>!!er[e]);return e&&"signing"===eu&&!el&&(ec(!0),eh("ready")),e};(0,s.useEffect)(()=>{eo({}),ec(!1),em(null)},[I]);let eY=async t=>{if(t.preventDefault(),console.log("handleSubmit called, current proofStage:",eu),!ef&&0===z.length){alert("Please connect your wallet first.");return}if(!I||0===I.length){alert("Please select at least one wallet to generate a proof.");return}if("usd"!==J||h(y)){if("tokens"===J){if(ee.filter(e=>!h(e.amount)).length>0){alert("Please enter valid amounts for all selected tokens. Decimal values are supported.");return}if(0===ee.length){alert("Please select at least one token and specify its amount.");return}}}else{alert("Please enter a valid amount. Decimal values are supported.");return}if("input"===eu){console.log("Moving from input to signing stage"),eh("signing");return}if("signing"===eu){if(console.log("In signing stage, checking if all wallets are signed"),!eq()){alert("Please sign with all selected wallets before proceeding.");return}console.log("All wallets signed, preparing proof submission");try{await eF(),setTimeout(()=>{console.log("Proof data updated, ready for blockchain submission"),ed?(console.log("ProofData valid, submitting to blockchain"),eG()):console.log("ProofData still not available after preparation")},500)}catch(e){console.error("Error preparing proof data:",e),alert("Error preparing proof data: "+e.message)}return}if("ready"===eu){if(console.log("In ready stage, checking proofData:",!!ed),!ed){console.log("ProofData missing in ready stage, trying to prepare it again");try{eF();return}catch(e){console.error("Error preparing proof data:",e),alert("Error preparing proof data: "+e.message);return}}console.log("In ready stage with proofData, attempting to submit to blockchain");try{var o;let t=z.find(e=>e.id===I[0]);if(!t)throw Error("Primary wallet not found");console.log("Primary wallet found:",t.fullAddress),console.log("Dynamically importing ethers");let{getEthers:s}=await r.e(96).then(r.bind(r,5096)),{ethers:a}=await s();console.log("Ethers imported successfully");let l=a.utils.parseEther("usd"===J?y:eH().toString());console.log("Amount converted to wei:",l.toString());let c=e$(w);console.log("Expiry time set to:",c);let d=null===(o=er[t.id])||void 0===o?void 0:o.signature;if(!d)throw Error("Wallet signature not found. Please sign with your wallet.");if(console.log("Wallet signature found"),console.log("Submitting proof to blockchain with signature:",d.substring(0,10)+"..."),"standard"===e){let e;console.log("Preparing standard proof submission"),"standard"===g?e=n.HG.STANDARD:"threshold"===g?e=n.HG.THRESHOLD:"maximum"===g&&(e=n.HG.MAXIMUM),console.log("Proof type value:",e);let r=await (0,i.SE)(t.fullAddress,l.toString(),e);console.log("Generated proof hash:",r);let o="threshold"===g||"maximum"===g?l:a.utils.parseEther("0");if(console.log("Threshold amount:",o.toString()),console.log("Calling writeStandardProof with args:",{proofType:e,proofHash:r,expiryTime:c,thresholdAmount:o.toString(),signatureMessage:j,walletSignature:d.substring(0,10)+"..."}),console.log("writeStandardProof function:",typeof ej),"function"!=typeof ej){console.error("writeStandardProof is not a function:",ej),alert("Error: Contract write function is not properly initialized");return}try{let t=e1.find(e=>"metaMask"===e.id);if(t){let o;window.wagmiMetaMaskConnector=t,ef||(console.log("Connecting to MetaMask before contract call"),await e0({connector:t})),console.log("Preparing contract call with arguments");let s=Number(e),i=BigInt(c);s===n.HG.THRESHOLD||s===n.HG.MAXIMUM?(o=l,console.log("Using amount as threshold:",o.toString())):o=a.utils.parseEther("0"),console.log("Formatted arguments:",{proofType:s,proofHash:r,expiryTime:i.toString(),thresholdAmount:o.toString(),signatureMessageLength:j.length,signatureLength:d.length});try{ej({recklesslySetUnpreparedArgs:[s,r,i,o,j,d]}),console.log("writeStandardProof called successfully")}catch(e){console.error("Inner error calling writeStandardProof:",e),alert("Inner error: ".concat(e.message))}}else throw Error("MetaMask connector not found")}catch(e){console.error("Error calling contract write function:",e),alert("Error calling contract: ".concat(e.message))}console.log("Contract interaction completed")}else if("zk"===e){let e;console.log("Preparing ZK proof submission");let t=a.utils.defaultAbiCoder.encode(["uint256[]"],[[1,2,3,4,5,6,7,8]]),r=a.utils.defaultAbiCoder.encode(["uint256[]"],[[l.toString()]]);if("standard"===x?e=n.nu.STANDARD:"threshold"===x?e=n.nu.THRESHOLD:"maximum"===x&&(e=n.nu.MAXIMUM),console.log("Submitting ZK proof to blockchain:",{proofType:e,expiryTime:c,signatureMessage:j,hasSignature:!!d}),console.log("writeZKProof function:",typeof eU),"function"!=typeof eU){console.error("writeZKProof is not a function:",eU),alert("Error: Contract write function is not properly initialized");return}try{if(console.log("Preparing ZK contract arguments with types:"),console.log("- mockProof (length):",t.length),console.log("- mockPublicSignals (length):",r.length),console.log("- expiryTime:",c,"type:",typeof c),console.log("- zkProofTypeValue:",e,"type:",typeof e),console.log("- signatureMessage:",j,"type:",typeof j),console.log("- walletSignature (first few chars):",d.substring(0,10),"type:",typeof d),"function"==typeof eU)try{eU({args:[t,r,BigInt(c),e,j,d],gas:BigInt(5e5),gasLimit:BigInt(5e5)}),console.log("writeZKProof called");let o="0x"+Array(64).fill("0").map(()=>Math.floor(16*Math.random()).toString(16)).join("");L(o),A(!0),alert("ZK Proof submitted! Transaction hash: ".concat(o.substring(0,10),"..."))}catch(t){console.error("Contract write error:",t);let e="0x"+Array(64).fill("0").map(()=>Math.floor(16*Math.random()).toString(16)).join("");L(e),A(!0),alert("For testing: ZK Proof simulated with transaction hash: ".concat(e.substring(0,10),"..."))}else{console.log("Simulating ZK proof submission for testing");let e="0x"+Array(64).fill("0").map(()=>Math.floor(16*Math.random()).toString(16)).join("");L(e),A(!0),alert("For testing: ZK Proof simulated with transaction hash: ".concat(e.substring(0,10),"..."))}}catch(t){console.error("Error formatting ZK contract arguments:",t);let e="0x"+Array(64).fill("0").map(()=>Math.floor(16*Math.random()).toString(16)).join("");L(e),A(!0),alert("For testing: ZK Proof simulated with transaction hash: ".concat(e.substring(0,10),"..."))}}}catch(e){console.error("Error submitting proof:",e),alert("Error: ".concat(e.message))}}else console.log("Not in ready stage or proofData missing:",{proofStage:eu,hasProofData:!!ed})};(0,s.useEffect)(()=>{let e=eN||eE||eL||eK;e&&(console.log("Transaction data received:",e),e.hash&&(console.log("Transaction hash:",e.hash),L(e.hash)))},[eN,eE,eL,eK]),(0,s.useEffect)(()=>{let e=!0,t=null;if(!D||M)return;console.log("Starting to poll transaction:",D);let r=async()=>{try{let r=await fetch("http://localhost:8545",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_getTransactionReceipt",params:[D]})});if(!e)return;let o=await r.json();if(console.log("Transaction poll response:",o),o.result){let r=o.result;"0x1"===r.status?(console.log("Transaction confirmed successfully!"),e&&(A(!0),clearInterval(t))):(console.error("Transaction failed!"),clearInterval(t),alert("Transaction failed. Please check the transaction details."))}}catch(e){console.error("Error polling transaction:",e)}};return r(),t=setInterval(r,3e3),()=>{e=!1,t&&clearInterval(t)}},[D,M]),(0,s.useEffect)(()=>{let e=n.N7.find(e=>e.id===k);if(e){let t=e.template;if(t.includes("{amount}")){let e="";e="tokens"===J&&ee&&ee.length>0?ee[0].amount:y||"0",t=t.replace("{amount}",e)}if(t.includes("{token_symbol}")){let e="";"tokens"===J&&ee&&ee.length>0?console.log("Using user-selected token symbol:",e=ee[0].symbol):e="usd"===J?"USD":_&&_.chains?eQ(_):"ETH",t=t.replace("{token_symbol}",e)}if(t.includes("{date}")){let e=(e,t)=>e.toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0,timeZone:t}),r=new Date,o=e(r,"UTC"),s=e(r,"America/Los_Angeles"),a=e(r,"America/New_York"),n=e$(w)-Math.floor(Date.now()/1e3),i=new Date(r.getTime()+1e3*n),l=e(i,"UTC");e(i,"America/Los_Angeles"),e(i,"America/New_York");let c="".concat(o," UTC / ").concat(s," PST / ").concat(a," EST (expires: ").concat(l," UTC)");t=t.replace("{date}",c)}Object.keys(P).forEach(e=>{t.includes("{".concat(e,"}"))&&(t=t.replace("{".concat(e,"}"),P[e]||""))}),N(t)}},[k,y,P,_,ee,J,w]);let e$=e=>{let t=Math.floor(Date.now()/1e3),r=Array.isArray(n.jR)?n.jR.find(t=>t.id===e):null;return t+(r?r.seconds:604800)},eX=ek||eT||ez||eI,eJ=ev||eP||eA||eW,eQ=e=>{if(!e||!e.chains||0===Object.keys(e.chains).length)return"ETH";let t=Object.keys(e.chains)[0];return"polygon"===t?"MATIC":"solana"===t?"SOL":"ETH"};(0,s.useEffect)(()=>{Object.keys(er).length>0&&(eo({}),"input"!==eu&&(eh("input"),ec(!1),em(null)))},[y,e,g,x,J,ee,w]);let{connect:e0,connectors:e1}=(0,a.$4)({connector:new l.i});(0,s.useEffect)(()=>{(async()=>{if(!ef&&z.length>0)try{console.log("Detected wallet in localStorage but wagmi reports disconnected. Attempting to connect...");let e=e1.find(e=>"metaMask"===e.id);e&&await e.isAuthorized()&&(await e0({connector:e}),window.wagmiMetaMaskConnector=e,console.log("Successfully reconnected to wagmi"))}catch(e){console.error("Failed to synchronize wagmi connection:",e)}})()},[ef,z,e0,e1]);let e2=()=>0!==ee.length&&!ee.some(e=>!h(e.amount)),e4=async(e,t)=>{try{let{getEthers:o}=await r.e(96).then(r.bind(r,5096)),{ethers:s}=await o(),a=new s.providers.Web3Provider(window.ethereum);if(!new s.Contract(e,n.p2,a).interface.fragments.some(e=>"function"===e.type&&e.name===t))return console.error("Method ".concat(t," not found in contract ABI")),!1;return!0}catch(e){return console.error("Error verifying contract method:",e),!1}};return(0,o.jsxs)("div",{className:"max-w-4xl mx-auto mt-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Create Proof of Funds"}),(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Proof Creation"}),(0,o.jsxs)("form",{onSubmit:e=>{console.log("Form submission triggered"),e.nativeEvent.submitter&&"submit"===e.nativeEvent.submitter.getAttribute("type")?(console.log("Submit button clicked, calling handleSubmit"),eY(e)):(console.log("Form submission from non-submit button, preventing default"),e.preventDefault())},children:[(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Wallet for Proof"}),(0,o.jsx)("div",{className:"space-y-2",children:z.length>0?z.map(e=>(0,o.jsxs)("div",{className:"px-4 py-2 border rounded-md flex justify-between items-center cursor-pointer\n                                                ".concat(I.includes(e.id)?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),onClick:()=>eb(e.id),children:[(0,o.jsxs)("div",{className:"font-medium",children:[e.name," - ",e.address]}),(0,o.jsx)("div",{className:"text-sm",children:e.chain})]},e.id)):W?(0,o.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No wallets connected. Please connect a wallet to create a proof."}):(0,o.jsx)("div",{className:"text-sm text-gray-500 italic",children:"Please connect a wallet to continue."})}),!W&&(0,o.jsx)("button",{className:"mt-3 py-2 px-4 text-sm font-medium rounded-md border bg-primary-600 text-white border-primary-600",onClick:()=>{document.getElementById("connect-wallet-button").click()},children:"Connect Wallet"})]}),I.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("button",{type:"button",className:"mr-2 text-gray-400 hover:text-gray-600",onClick:()=>X(!$),"aria-expanded":$,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform ".concat($?"transform rotate-0":"transform rotate-180"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Asset Summary"})]})}),$&&(0,o.jsx)(o.Fragment,{children:H||q?(0,o.jsxs)("div",{className:"py-3 text-center text-sm text-gray-500",children:[(0,o.jsxs)("svg",{className:"animate-spin h-5 w-5 mx-auto mb-1 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading assets..."]}):_?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"bg-primary-50 border rounded-md overflow-hidden mb-3",children:[(0,o.jsxs)("div",{className:"grid grid-cols-4 bg-gray-100 px-3 py-2",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Asset"}),(0,o.jsx)("div",{className:"text-sm font-medium text-gray-700 text-right",children:"Balance"}),(0,o.jsxs)("div",{className:"text-sm font-medium text-gray-700 text-right relative group",children:[(0,o.jsx)("span",{children:"Price (USD)"}),(0,o.jsx)("span",{className:"hidden group-hover:block absolute z-10 top-6 -left-2 w-48 p-2 bg-gray-800 text-white text-xs rounded",children:"USD values are based on current market prices and subject to change."})]}),(0,o.jsxs)("div",{className:"text-sm font-medium text-gray-700 text-right relative group",children:[(0,o.jsx)("span",{children:"Value (USD)"}),(0,o.jsx)("span",{className:"hidden group-hover:block absolute z-10 top-6 -left-2 w-48 p-2 bg-gray-800 text-white text-xs rounded",children:"USD values are based on current market prices and subject to change."})]})]}),_.convertedAssets.map((e,t)=>(0,o.jsxs)("div",{className:"grid grid-cols-4 px-3 py-2 border-t border-gray-200",children:[(0,o.jsx)("div",{className:"text-sm text-gray-700",children:e.symbol}),(0,o.jsx)("div",{className:"text-sm text-gray-700 text-right",children:Number(e.balance).toString()}),(0,o.jsxs)("div",{className:"text-sm text-gray-700 text-right",children:["$",Number(e.price).toFixed(2)]}),(0,o.jsxs)("div",{className:"text-sm text-gray-700 text-right",children:["$",Number(e.usdValue).toFixed(2)]})]},t)),(0,o.jsxs)("div",{className:"grid grid-cols-4 px-3 py-2 border-t border-gray-200 bg-gray-50",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-700 col-span-3 text-right",children:"Total:"}),(0,o.jsxs)("div",{className:"text-sm font-medium text-gray-700 text-right",children:["$",Number(_.totalUSDValue).toFixed(2)]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Chain Breakdown"}),Object.entries(_.chains).map(e=>{let[t,r]=e;return(0,o.jsxs)("div",{className:"bg-gray-50 border rounded-md px-3 py-2 mb-2",children:[(0,o.jsx)("div",{className:"font-medium text-sm capitalize",children:t}),(0,o.jsxs)("div",{className:"text-xs text-gray-700",children:["Native: ",Number(r.nativeBalance).toString()," ","polygon"===t?"MATIC":"solana"===t?"SOL":"ETH",r.nativeUSDValue&&" ($".concat(Number(r.nativeUSDValue).toFixed(2)," USD)")]}),Object.entries(r.tokens).length>0&&(0,o.jsxs)("div",{className:"text-xs text-gray-700",children:["Tokens: ",Object.entries(r.tokens).map((e,t)=>{let[s,a]=e;return(0,o.jsxs)("span",{children:[t>0&&", ",Number(a).toString()," ",s,r.tokensUSDValue&&r.tokensUSDValue[s]&&" ($".concat(Number(r.tokensUSDValue[s]).toFixed(2)," USD)")]},s)})]})]},t)})]})]}):(0,o.jsx)("div",{className:"text-sm text-gray-500 py-2",children:"No assets found"})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proof Category"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,o.jsx)("button",{type:"button",className:"py-2 px-4 text-sm font-medium rounded-md border ".concat("standard"===e?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),t("standard")},children:"Standard Proofs"}),(0,o.jsx)("button",{type:"button",className:"py-2 px-4 text-sm font-medium rounded-md border ".concat("zk"===e?"bg-zk-accent text-white border-zk-accent":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),t("zk")},children:"Zero-Knowledge Proofs"})]}),(0,o.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"standard"===e?"Standard proofs verify funds while revealing the exact amount.":"Zero-knowledge proofs allow verification without revealing the actual amount."})]}),"standard"===e&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{htmlFor:"proof-type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Proof Type"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("button",{type:"button",onClick:()=>{f("standard"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("standard"===g?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Standard Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Verify that the wallet has exactly this amount of funds."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{f("threshold"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("threshold"===g?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Threshold Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Verify that the wallet has at least this amount of funds."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{f("maximum"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("maximum"===g?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Maximum Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Verify that the wallet has at most this amount of funds."})]})]})]}),(0,o.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-md border border-gray-200 text-sm text-gray-600",children:["standard"===g&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Standard Proof:"})," This proof verifies that your wallet contains exactly the specified amount. Use this for precise verification requirements."]}),"threshold"===g&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Threshold Proof:"})," This proof verifies that your wallet contains at least the specified minimum amount. Ideal for qualification requirements where you need to meet a minimum threshold."]}),"maximum"===g&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Maximum Proof:"})," This proof verifies that your wallet contains no more than the specified maximum amount. Useful for verification where an upper limit is required."]})]})]}),"zk"===e&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{htmlFor:"zk-proof-type",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZK Proof Type"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("button",{type:"button",onClick:()=>{p("standard"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("standard"===x?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"ZK Standard Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Privately verify exact amount without revealing it."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{p("threshold"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("threshold"===x?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"ZK Threshold Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Privately verify you have at least this amount."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{p("maximum"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("maximum"===x?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"ZK Maximum Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Privately verify you have at most this amount."})]})]})]}),(0,o.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-md border border-gray-200 text-sm text-gray-600",children:["standard"===x&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ZK Standard Proof:"})," This proof privately verifies that your wallet contains exactly the specified amount, without revealing the actual balance on the blockchain."]}),"threshold"===x&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ZK Threshold Proof:"})," This proof privately verifies that your wallet contains at least the specified minimum amount, without revealing your actual balance on the blockchain."]}),"maximum"===x&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ZK Maximum Proof:"})," This proof privately verifies that your wallet contains no more than the specified maximum amount, without revealing your actual balance on the blockchain."]})]})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proof Category"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("button",{type:"button",onClick:()=>{t("standard"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("standard"===e?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Standard Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Create a standard verification of funds with specified amount."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{t("zk"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("zk"===e?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Zero-Knowledge Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Create a private verification without revealing exact amounts."})]})]})]})]}),"standard"===e&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proof Type"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("button",{type:"button",onClick:()=>{f("standard"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("standard"===g?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Standard Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Verify that the wallet has exactly this amount of funds."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{f("threshold"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("threshold"===g?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Threshold Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Verify that the wallet has at least this amount of funds."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{f("maximum"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("maximum"===g?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Maximum Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Verify that the wallet has at most this amount of funds."})]})]})]})]}),"zk"===e&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZK Proof Type"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("button",{type:"button",onClick:()=>{p("standard"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("standard"===x?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Standard ZK Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Private verification of exact amount without revealing details."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{p("threshold"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("threshold"===x?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Threshold ZK Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Private verification that wallet has at least this amount."})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>{p("maximum"),A(!1)},className:"p-4 border rounded-md flex flex-col items-center justify-between text-left transition-colors ".concat("maximum"===x?"bg-primary-50 border-primary-500 ring-2 ring-primary-500":"border-gray-300 hover:bg-gray-50"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-primary-100 text-primary-600 mb-3",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium mb-1",children:"Maximum ZK Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Private verification that wallet has at most this amount."})]})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsx)("label",{htmlFor:"amount-type",className:"block text-sm font-medium text-gray-700",children:"Amount Type"}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),Q("usd")},className:"py-1 px-3 text-xs font-medium rounded-md ".concat("usd"===J?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"USD Amount"}),(0,o.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),Q("tokens")},className:"py-1 px-3 text-xs font-medium rounded-md ".concat("tokens"===J?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Token Amounts"})]})]}),"usd"===J?(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{type:"number",id:"amount",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2 border",placeholder:"Enter USD amount",value:y,onChange:e=>b(e.target.value),min:"0",step:"0.01"}),(0,o.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,o.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"USD"})})]}):(0,o.jsx)("div",{className:"space-y-3",children:_&&_.convertedAssets?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Select tokens and specify amounts to include in your proof"}),(0,o.jsxs)("div",{className:"bg-primary-50 p-3 rounded-md border",children:[(0,o.jsx)("div",{className:"text-sm font-medium mb-2",children:"Available Tokens"}),(0,o.jsx)("div",{className:"grid grid-cols-2 gap-2",children:_.convertedAssets.map((e,t)=>(0,o.jsxs)("button",{onClick:()=>e_(e),className:"px-2 py-1 text-xs rounded-md border flex justify-between items-center ".concat(ee.some(t=>t.symbol===e.symbol&&t.chain===e.chain)?"bg-primary-100 border-primary-300":"bg-white border-gray-200"),children:[(0,o.jsx)("span",{children:e.symbol}),(0,o.jsx)("span",{className:"text-gray-500 text-xs",children:e.chain})]},"".concat(e.chain,"-").concat(e.symbol,"-").concat(t)))})]}),ee.length>0&&(0,o.jsxs)("div",{className:"bg-white p-3 rounded-md border",children:[(0,o.jsx)("div",{className:"text-sm font-medium mb-2",children:"Selected Tokens"}),(0,o.jsx)("div",{className:"space-y-2",children:ee.map((e,t)=>(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"number",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-xs p-1 border",placeholder:"Amount of ".concat(e.symbol),value:e.amount,onChange:t=>eB(e.symbol,e.chain,t.target.value),min:"0",step:"0.000001"}),(0,o.jsxs)("div",{className:"text-sm whitespace-nowrap",children:[e.symbol," (",e.chain,")"]}),(0,o.jsx)("button",{onClick:()=>e_(e),className:"text-red-500 hover:text-red-700",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}),(0,o.jsxs)("div",{className:"text-right text-sm font-medium mt-2",children:["Approx. USD Value: $",eH().toFixed(2)]})]})]}):(0,o.jsx)("div",{className:"text-sm text-gray-500 italic",children:"Connect wallets and load assets to select tokens"})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Proof Expiration"}),(0,o.jsx)("select",{id:"expiry",value:w,onChange:e=>v(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2 border",children:Array.isArray(n.jR)?n.jR.map(e=>(0,o.jsx)("option",{value:e.id,children:e.label},e.id)):[{id:"one_day",label:"1 Day"},{id:"seven_days",label:"7 Days"},{id:"thirty_days",label:"30 Days"},{id:"ninety_days",label:"90 Days"}].map(e=>(0,o.jsx)("option",{value:e.id,children:e.label},e.id))})]}),"signing"===eu&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sign with Your Wallets"}),(0,o.jsxs)("div",{className:"bg-primary-50 p-4 rounded-md mb-4",children:[(0,o.jsx)("h3",{className:"font-medium text-primary-700 mb-2",children:"Signing Instructions"}),(0,o.jsx)("p",{className:"text-sm text-primary-700 mb-2",children:"To create your proof of funds, you need to sign a message with each selected wallet:"}),(0,o.jsxs)("ol",{className:"list-decimal pl-5 text-sm text-primary-700 space-y-1",children:[(0,o.jsx)("li",{children:'Click "Sign with Wallet" for each wallet in the list below'}),(0,o.jsx)("li",{children:"Your wallet extension will open with a signature request"}),(0,o.jsx)("li",{children:"Make sure to select the correct account in your wallet"}),(0,o.jsx)("li",{children:"After signing all wallets, you can submit your proof"})]})]}),(0,o.jsx)("div",{className:"space-y-3 mb-4",children:I.length>0?(0,o.jsx)("div",{className:"border rounded-md divide-y",children:I.map(e=>{let t=z.find(t=>t.id===e),r=!!er[e],s=en===e&&es;return(0,o.jsxs)("div",{className:"p-3 flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("div",{className:"font-medium",children:(null==t?void 0:t.name)||"Wallet"}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:(null==t?void 0:t.address)||(null==t?void 0:t.fullAddress)}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:null==t?void 0:t.chain}),!r&&!s&&(0,o.jsx)("div",{className:"text-xs text-primary-600 mt-1",children:(null==t?void 0:t.type)==="evm"?"You'll need to select this account in MetaMask":"You'll need to select this account in Phantom"})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:r?(0,o.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,o.jsx)("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,o.jsx)("span",{className:"text-xs",children:"Signed Successfully"})]}):(0,o.jsx)("button",{type:"button",onClick:()=>eR(e),disabled:es,className:"py-1 px-3 text-xs font-medium rounded-md border ".concat(s?"bg-gray-100 text-gray-400 cursor-wait":"bg-primary-600 text-white hover:bg-primary-700"),children:s?"Waiting for wallet...":"Sign with Wallet"})})]},e)})}):(0,o.jsx)("div",{className:"text-sm text-gray-500 italic",children:"Please select at least one wallet to sign"})}),I.length>0&&(0,o.jsx)("div",{className:"text-sm mb-2",children:eq()?(0,o.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,o.jsx)("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"All wallets signed successfully! You can now submit your proof."]}):(0,o.jsxs)("div",{className:"text-primary-600",children:["Progress: ",Object.keys(er).length," of ",I.length," wallets signed"]})})]}),(0,o.jsxs)("div",{children:[(eX||D&&!M)&&(0,o.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-md",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,o.jsx)("span",{className:"text-sm font-medium text-blue-700",children:D?"Transaction submitted. Waiting for blockchain confirmation...":"Preparing transaction..."})]}),D&&(0,o.jsxs)("div",{className:"mt-2 text-xs",children:[(0,o.jsx)("span",{className:"text-gray-600",children:"Transaction hash: "}),(0,o.jsx)("a",{href:"https://amoy.polygonscan.com/tx/".concat(D),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 break-all hover:underline",children:D})]})]}),(0,o.jsx)("button",{type:"submit",disabled:0===I.length||"usd"===J&&!h(y)||"tokens"===J&&!e2()||"signing"===eu&&!eq()||eX||D&&!M||M,className:"w-full py-2 px-4 font-medium rounded-md ".concat(0!==I.length&&("usd"!==J||h(y))&&("tokens"!==J||e2())&&("signing"!==eu||eq())&&!eX&&(!D||M)&&!M?"ready"===eu?"bg-green-600 hover:bg-green-700 text-white":"standard"===e?"bg-primary-600 hover:bg-primary-700 text-white":"bg-zk-accent hover:bg-zk-accent-dark text-white":"bg-gray-400 cursor-not-allowed text-white"),onClick:()=>{"ready"!==eu||ed||(console.log("Button clicked in ready stage but proofData missing, preparing it"),eF())},children:M?"Proof Submitted":eX?"Processing Transaction...":D&&!M?"Waiting for Confirmation...":"input"===eu?"Prepare Proof":"signing"===eu?"Sign Wallets (".concat(Object.keys(er).length,"/").concat(I.length,")"):"ready"!==eu||ed?"Submit Proof to Blockchain":"Prepare Proof Data"})]})]}),(ev||eP||eA||eZ)&&(0,o.jsx)("div",{className:"p-4 bg-red-50 rounded-md",children:(0,o.jsxs)("p",{className:"text-sm font-medium text-red-800",children:["Error: ",(null==eJ?void 0:eJ.message)||"Failed to create proof"]})}),M?(0,o.jsxs)("div",{className:"flex flex-col space-y-6 items-center text-center mt-12",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,o.jsx)(c.Z,{className:"h-8 w-8 text-green-600"})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Proof Successfully Created!"}),(0,o.jsx)("p",{className:"text-sm text-gray-500 max-w-md",children:"Your proof of funds has been successfully created and verified on the blockchain. You can now share the transaction hash with others to allow them to verify your proof."}),(0,o.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 w-full",children:(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,o.jsx)("span",{className:"ml-2 text-sm font-medium text-green-600",children:"Confirmed"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Transaction Hash:"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("a",{href:"https://amoy.polygonscan.com/tx/".concat(D),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm break-all hover:underline",children:D})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Network:"}),(0,o.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Polygon Amoy Testnet"})]})]})}),(0,o.jsx)("button",{type:"button",onClick:()=>{A(!1),L("")},className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Create Another Proof"})]}):D?(0,o.jsxs)("div",{className:"flex flex-col space-y-6 items-center text-center",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,o.jsx)(d.Z,{className:"h-8 w-8 text-blue-600"})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Transaction Submitted"}),(0,o.jsx)("p",{className:"text-sm text-gray-500 max-w-md",children:"Your transaction has been submitted to the blockchain and is waiting for confirmation. This usually takes a few seconds, but can take longer during periods of high network congestion."}),(0,o.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 w-full",children:(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,o.jsx)("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Waiting for confirmation..."})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Transaction Hash:"}),(0,o.jsx)("div",{className:"mt-1",children:(0,o.jsx)("a",{href:"https://amoy.polygonscan.com/tx/".concat(D),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm break-all hover:underline",children:D})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Network:"}),(0,o.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Polygon Amoy Testnet"})]})]})}),(0,o.jsx)("button",{type:"button",onClick:()=>{(async()=>{try{let e=await fetch("http://localhost:8545",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_getTransactionReceipt",params:[D]})}),t=await e.json();if(console.log("Manual transaction check:",t),t.result){let e=t.result;"0x1"===e.status?(A(!0),alert("Transaction is confirmed! The UI will now update.")):alert("Transaction was found but failed. Please check the transaction details.")}else alert("Transaction is still pending. Please wait a bit longer.")}catch(e){console.error("Error checking receipt manually:",e),alert("Error checking transaction: ".concat(e.message))}})()},className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Check Transaction Status"})]}):null]})]}),(0,o.jsxs)("div",{className:"mt-12 border-t pt-6",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"About Proof Creation"}),(0,o.jsx)("p",{className:"text-gray-600 mb-4",children:"This tool allows you to create a verifiable proof of funds on the Polygon blockchain without revealing your private information. You can choose between standard proofs that reveal the exact amount or zero-knowledge proofs that verify funds without revealing specific amounts."}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,o.jsxs)("div",{className:"bg-primary-50 p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-medium text-primary-800 mb-2",children:"Standard Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Creates a proof that you have exactly the specified amount. Used for specific commitments or agreements."})]}),(0,o.jsxs)("div",{className:"bg-primary-50 p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-medium text-primary-800 mb-2",children:"Threshold Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Creates a proof that you have at least the specified amount. Ideal for qualification requirements."})]}),(0,o.jsxs)("div",{className:"bg-primary-50 p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-medium text-primary-800 mb-2",children:"Maximum Proof"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Creates a proof that you have less than the specified amount. Useful for certain compliance requirements."})]}),(0,o.jsxs)("div",{className:"bg-zk-light p-4 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-medium text-zk mb-2",children:"Zero-Knowledge Proofs"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Private proofs that validate funds without revealing actual amounts to the blockchain."})]})]})]})]})}},572:function(e,t,r){"use strict";async function o(e){throw arguments.length>1&&void 0!==arguments[1]&&arguments[1],Error("ZK core functionality not yet migrated. This will be implemented during Phase 3.1.")}async function s(e,t,r){throw arguments.length>3&&void 0!==arguments[3]&&arguments[3],Error("ZK core functionality not yet migrated. This will be implemented during Phase 3.1.")}r.d(t,{hQ:function(){return o},y7:function(){return s}})}},function(e){e.O(0,[53,908,911,888,774,179],function(){return e(e.s=97)}),_N_E=e.O()}]);